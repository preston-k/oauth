<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <link
      rel='stylesheet'
      href='https://fonts.googleapis.com/css2?family=Poppins'
    />
    <link
      rel='icon'
      href='https://cdn.prestonkwei.com/personalwebsitefavicon.png'
    />
    <script src='https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js'></script>
    <script src='https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js'></script>

    <script src='script.js'></script>
    <link
      href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css'
      rel='stylesheet'
      integrity='sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM'
      crossorigin='anonymous'
    />
    <title>Account Management</title>
    <link href='style.css' rel='stylesheet' type='text/css' />
  </head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0D1F9EEVYE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0D1F9EEVYE');
</script>

  <body onload='urlparam()'>
    <div id='loaddivparent'>
      <div id='pfploading'>
        <span id='ub'><h1>Your Profile Photo is Uploading!</h1></span>
        <p>Please wait, this should only take a couple seconds.</p>
        <div id='pfploaderparent'>
          <div class='pfp-loader'></div>
        </div>
      </div>
    </div>
    <i class='fa-solid fa-x fa-2x' id='danger-exit'></i>
    <div id='danger-confirm-hold'>
      <div id='delete-final-confirm'>
        <h1>You Are About to Delete Your Account</h1>
        <u><p>To confirm, please acknowledge that:</p></u>
        <form id='delete-final-confirm-form'>
          <div class='delete-cb-boxes'>
            <input class='cb-delete' id='delete1' type='checkbox'>
            <label for='delete1' class='delete-cb-label'>This action is permanent and cannot be undone</p>
          </div>
          <div class='delete-cb-boxes'>
            <input class='cb-delete' id='delete2' type='checkbox'>
            <label for='delete2' class='delete-cb-label'>You will no longer be able to login with your current email and password.</p>
          </div>
          <div class='delete-cb-boxes'>
            <div id='inner-delete-label'>
              <input class='cb-delete' id='delete3' type='checkbox'>
              <label for='delete3' class='delete-cb-label'>Your information <span class='italic'>may</span> be stored on our servers, according to our <a href='https://legal.prestonkwei.com/policies/privacy'>privacy policy</a>.</p>
            </div>
          </div>
        </form>
      </div>
      <div id='danger-confirm'>
        <h1 id='danger-confirm-title'>Are You Sure?</h1>
        <p class='danger-confirm-message'>You are about to <span id='danger-confirm-about'></span>.</p>
        <p id='danger-perm' style='font-size: 12px;'>This action is <span style='color: red;text-decoration: underline;'>permanent</span> and cannot be undone.</p>
        <hr id='danger-hr'>
        <p class='danger-confirm-message'>If you are absolutely sure you would like to proceed, type <span id='danger-confirm-type'></span> in the box below.</p>
        <form id='danger-confirm-form'>
          <input type='text' id='danger-confirm-textbox' autocapitalize='off' autocomplete='off'>
          <button id='danger-proceed' type='submit' disabled>Proceed</button>
        </form>
      </div>
    </div>
   
    <div id='overlay-grey'></div> 
    <div class='modal fade' id='loggedoutmod' tabindex='-1' aria-labelledby='staticBackdropLabel' aria-hidden='true'
    >
      <div class='modal-dialog'>
        <div class='modal-content'>
          <div class='modal-header'>
            <h5 class='modal-title fs-5' id='staticBackdropLabel'>
              <b>You've been logged out!</b>
            </h5>
          </div>
          <div class='modal-body'>
            To protect your account, you've been logged out. Please sign in
            again!
          </div>
          <div class='modal-footer'>
            <p id='errorp' style='font-size: 12px'></p>
            <a href='/'><button type='button' class='btn btn-primary' id='letgobut'>Log In!</button></a>
          </div>
        </div>
      </div>
    </div>
    <div id='center'>
      <div id='pfpstuff'>
        <form id='pfpform'>
          <input type='file' accept='.png, .jpg, .jpeg, .heic' id='pfpup' />
        </form>
        <img id='iconpng' src='https://cdn.prestonkwei.com/usericon.png' />
      </div>
      <div id='main-content'>
        <h2>Account Management</h2>
        <p>
          Click to edit any of the fields with a
          <span id='blueunderline'>blue underline</span>.
        </p>
        <div id='personalinfo'>
          <input type='text' class='pinfobox' placeholder='First Name' id='fnhtml' />
          <input type='text' class='pinfobox' placeholder='Last Name' id='lnhtml' />
          <input type='text' class='fullpinfobox' placeholder='Email Address' id='email'/>
          <br />
          <button id='savebut' onclick='updateInfo()'>Save Changes</button>
        </div>
        <fieldset id='hotlinks'>
          <legend id='hotlinks-legend'>Check Out These Websites!</legend>
          <h4 class='h1-subtitle'>Here are some other sites that we have built!</h4>
          <div id='card-holder-main'>
            <a href='https://whiteboard.prestonkwei.com' class='card-link-tag' target='_blank'>
              <div class='card-div-outline'>
                <img src='https://cdn.prestonkwei.com/whiteboard-app-thumb.png' class='card-img-top'>
                <div class='card-text-div'>
                  <h1 class='card-header'>Whiteboard</h1>
                  <p class='card-desc'>An easy way to collaborate with peers, coworkers, students, and more! Create unlimited boards to share ideas.</p>
                </div>
                <a href='https://whiteboard.prestonkwei.com'><button class='card-button-bottom'>Go!</button></a>
              </div>
            </a>
            <a href='https://go.prestonkwei.com' class='card-link-tag' target='_blank'>
              <div class='card-div-outline'>
                <img src='https://cdn.prestonkwei.com/.png' class='card-img-top'>
                <div class='card-text-div'>
                  <h1 class='card-header'>Link Tracker</h1>
                  <p class='card-desc'>Create tracked links to see exactly when someone opens it! (if they even open it...)</p>
                </div>
                <a href='https://go.prestonkwei.com'><button class='card-button-bottom'>Go!</button></a>
              </div>
            </a>
          </div>
        </fieldset>


        <p id='progress'></p>
        <fieldset id='dangerzoneinner'>
          <legend id='dztitle'>Danger Zone</legend>
          <p class='dzp'>These settings can severely affect your account. Use caution when changing these settings.</p>
          <div class='dangerzone-setting'>
            <div class='dangerzone-left'>
              <h1 class='danger-h1'>Delete Profile Picture</h1>
              <p class='danger-p'>Deletes your uploaded profile photo from our servers. This action is permanent.</p>
            </div>
            <div class='dangerzone-right'>
              <button class='danger-button' id='danger-deletepfp'>Delete Profile Photo</button>
            </div>
          </div>
          <hr class='setting-seperator'>
          
          <!-- DO NOT MOVE. NO SETTINGS BELOW THIS. -->
          <div class='dangerzone-setting'>
            <div class='dangerzone-left'>
              <h1 class='danger-h1'>Delete Account</h1>
              <p class='danger-p'>Deletes your account, and all associated information from our servers. This action is permanent.</p>
            </div>
            <div class='dangerzone-right'>
              <button class='danger-button' id='danger-deleteacc'>Delete Account</button>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
    <div id='overlay'>
      <div id='desktopTools'>
        <img
          onclick='logout()'
          src='https://cdn.prestonkwei.com/75b169a0-cbad-4ce8-9937-79a52a20dcb2.png'
          title='Log Out'
          class='toolbaricon'
        />
        <p class='toolbarsub' onclick='logout()'>Log Out</p>
        <img
          src='https://cdn.prestonkwei.com/key.png'
          title='Account Security'
          class='toolbaricon'
        />
        <p class='toolbarsub'>Security</p>
        <span id='policylink'
          ><img
            src='https://cdn.prestonkwei.com/policies.png'
            title='Policies'
            class='toolbaricon'
          />
          <p class='toolbarsub'>Policies</p></span
        >
      </div>
    </div>
    <div id='mOverlay'>
      <div id='mobileTool'>
        <img
          onclick='logout()'
          src='https://cdn.prestonkwei.com/75b169a0-cbad-4ce8-9937-79a52a20dcb2.png'
          title='Log Out'
          class='toolbaricon'
        />
      </div>
    </div>
    <div id='noperms'>
      <u
        ><h1 id='ad'><b>Access Denied</b></h1></u
      >
      <h4>You don't have the required permissions to view this page.</h4>
      <div id='optionbox'>
        <a
          href='https://oauth.prestonkwei.com/login?f2fa=true'
          class='optiondiv-link'
        >
          <img
            class='optionimg'
            src='https://cdn.prestonkwei.com/backarrow.png'
          />
          <p>Go Back and Login</p>
        </a>
        <a href='https://prestonkwei.com' class='optiondiv-link'>
          <img class='optionimg' src='https://cdn.prestonkwei.com/home.png' />
          <p>Go To: PrestonKwei.com</p>
        </a>
      </div>
    </div>
    <script src='https://kit.fontawesome.com/c947e2382a.js' crossorigin='anonymous'></script>
    <script src='https://code.jquery.com/jquery-3.6.0.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js'></script>
    <script src='account.js'></script>
    <script src='https://sdk.amazonaws.com/js/aws-sdk-2.1624.0.min.js'></script>
    <script src='pfp.js'></script>
  </body>
</html>
